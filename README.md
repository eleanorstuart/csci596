# Eleanor and Dimple's CSCI596 Final Project
This project was based on code from Philip Mocz (https://github.com/pmocz/nbody-python) for the collisionless Nbody simulation under the effect of gravity and from Paul Masson for the added elastic collisions between the particles (https://exploratoria.github.io/exhibits/mechanics/elastic-collisions-in-3d/). 

Our code works to simulate different models of Dark matter (DM) and baryon interactions based on the various models available in Cosmology today. We simulate a galaxy cluster, modeled by a group of N gravitationally bound particles. We start with the Lambda Cold Dark Matter (LCDM) model which allows for regular matter (baryons) to collide with each other but only gravitationally interact with DM (80% of matter). We then add interactions between baryons and DM along with the baryon-baryon interactions to allow for a class of models called interacting DM (IDM) which is characterized by the mass of the DM particle (equal to the mass of baryons in our case) and the interaction cross section strength between the particles. In our model the baryons only interact with each other and with DM particles through elastic collisions (rather than other types of velocity-dependent interactions), and the cross section/interaction strength is represented by the minimum separation allowed between particles before they collide. 

These models can be visualized using our code by changing the interaction cross section between different particles categorized by the variables ‘sigma_b_b’ and ‘sigma_b_dm’. The baryon fraction can also be changed to fit different models by changing the ‘fBaryon’ variable. The code allows for the clustering, collisional and gravitational effects to be visualized and studied to help intuitive understanding of these concepts and their effects on a galaxy cluster model.  

Time complexity/scalability analysis:
In the case where there are no baryons (only DM particles that do not interact with each other), the dependence on N is in the getAcc function, where the pairwise particle separations are calculated by matrix subtraction in order to calculate the acceleration of each particle due to gravity. Subtraction has O(n) complexity, so in the no interactions case this simulation has O(n) complexity. This can be seen in the “Time scaling (no baryons)” plot where the “this simulation” line aligns closely with the “O(n)” line. When we add in collisions,  the main dependence on n is in the collision function, where there is a nested for loop (outer goes up to N and inner goes up to n_baryons, which is N scaled by a fraction) to check each baryon against every other particle to see if they are close enough to collide. A nested for loop has O(n^2) complexity, so in the case where there are interactions this simulation has O(n^2) complexity. This can be seen in the “Time scaling (with baryons)” plot where the “this simulation” line aligns closely with the “n” line. We may be able to reduce the time complexity of the simulation by parallelizing the code, or by some clever use of matrix math as in the getAcc function.

